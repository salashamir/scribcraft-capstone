{% macro avatar(image_url) %}
    <div class="avatar">
        <img src="{{image_url}}" alt="user's avatar">
    </div>
{% endmacro %}

{% macro scrib_macro(scrib) %}
    <div>
        <div class="scrib-summary">
            <h2 class="scrib-title">{{scrib.title}}</h2>
            <p class="scrib-author">By <span><a href="/users/7">{{scrib.user.username}}</a></span></p>
            <p class="creation-date">Generated on {{scrib.date_time}}</p>
            {% for scrib_paragraph in scrib.scrib_text.split("\n\n") %}
                <p class="details">{{scrib_paragraph}}</p>
            {% endfor %}
            <div class="scrib-user">
                {{ avatar(scrib.user.image_url) }}
            </div>
        </div>
    </div>
{% endmacro %}

{% macro scribs_list(scribs) %}
    <div class="scribs-list">
        {% if scribs | length == 0 %}
            <p>No scribs found!</p>
        {% else %}
            {% for scrib in scribs %}
                <a href="{{url_for('show_scrib', scrib_id=scrib.id)}}">
                    <h4>{{scrib.title}}</h4>
                    <p><strong>Created:</strong> {{ scrib.date_time }}</p>
                    <div class="lower-half">
                    <ul>
                        <li>
                            {{ avatar(scrib.user.image_url) }}
                        </li>
                    </ul>
                    </div>
                </a>
            {% endfor %}
        {% endif %}
    </div>
{% endmacro %}

{% macro user(user) %}
    <div class="user-card">
        <a href=f"/users/{user.id}">
            {{ avatar(user.image_url) }}
            <p>{{user.username}}</p>
            <p class="scrib-stat">{{user.scribs | length}} scribs</p>
        </a>
    </div>
{% endmacro %}